:root {
  --navy: #0d1226;
  --navy2: #1a1f3a;
  --cream: #f5f0e8;
  --gold: #c9a84c;
  --gold-light: #e8d5a0;
  --muted: #7a7060;
  --card: rgba(255,255,255,0.05);
  --border: rgba(255,255,255,0.08);
  --bottom-h: 64px;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; }
body {
  font-family: 'Noto Sans KR', sans-serif;
  background: var(--navy);
  color: var(--cream);
}
.page { display: none; }
.page.active { display: block; }
.page.active:not(#page-home) {
  padding-bottom: calc(var(--bottom-h) + 24px);
}

/* ── BOTTOM NAV ── */
.bottom-nav {
  position: fixed; bottom: 0; left: 0; right: 0;
  height: var(--bottom-h);
  background: rgba(10,14,30,0.97);
  border-top: 1px solid rgba(201,168,76,0.2);
  display: flex; z-index: 1000;
  backdrop-filter: blur(12px);
}
.bnav-btn {
  flex: 1; display: flex; flex-direction: column;
  align-items: center; justify-content: center; gap: 3px;
  background: none; border: none; color: rgba(245,240,232,0.38);
  cursor: pointer; transition: color 0.2s; padding: 8px 0;
  font-family: 'Noto Sans KR', sans-serif;
}
.bnav-btn .bi { font-size: 1.25rem; line-height: 1; }
.bnav-btn .bl { font-size: 0.58rem; }
.bnav-btn.active { color: var(--gold); }

/* ══ HOME ══ */
#page-home {
  min-height: calc(100vh - var(--bottom-h));
  position: relative; overflow: hidden;
  background: radial-gradient(ellipse at 50% 0%, #1a2a4a 0%, #0d1226 60%);
}
#stars-canvas { position: absolute; inset: 0; pointer-events: none; z-index: 0; }

.eiffel-bg {
  position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);
  width: min(320px, 85vw); z-index: 1; pointer-events: none;
  display: flex; justify-content: center;
}
.eiffel-bg svg { width: 100%; height: auto; }

.home-content {
  position: relative; z-index: 2;
  display: flex; flex-direction: column; align-items: center;
  padding: 52px 20px 24px;
}
.flag-row { display: flex; gap: 4px; margin-bottom: 20px; }
.flag-row span { width: 7px; height: 28px; border-radius: 2px; }
.home-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(2rem, 9vw, 3.4rem);
  font-style: italic; color: var(--gold);
  text-align: center; line-height: 1.15;
}
.home-sub {
  font-family: 'DM Mono', monospace; font-size: 0.68rem;
  color: var(--gold-light); letter-spacing: 0.2em; margin-top: 8px; opacity: 0.7;
}
.dday-card {
  margin-top: 28px;
  background: rgba(201,168,76,0.1);
  border: 1px solid rgba(201,168,76,0.3);
  border-radius: 20px; padding: 20px 28px; text-align: center;
  width: 100%; max-width: 300px;
  box-shadow: 0 0 40px rgba(201,168,76,0.08);
}
.dday-lbl {
  font-family:'DM Mono',monospace;
  font-size:0.62rem;
  letter-spacing:0.16em;
  color:var(--gold-light);
  opacity:0.75;
  margin-bottom:8px;
}
.dday-num {
  font-family:'Playfair Display',serif;
  font-size:2.8rem;
  font-weight:700;
  color:var(--gold);
  line-height:1.05;
}
.dday-desc { font-size:0.78rem; color:rgba(245,240,232,0.55); margin-top:8px; }

.weather-row { display:flex; gap:10px; margin-top:14px; width:100%; max-width:300px; }
.w-card {
  flex:1; background:var(--card); border:1px solid var(--border);
  border-radius:14px; padding:13px 8px; text-align:center;
}
.w-city { font-size:0.6rem; color:var(--muted); font-family:'DM Mono',monospace; letter-spacing:0.1em; margin-bottom:5px; }
.w-icon { font-size:1.7rem; display:block; margin-bottom:3px; }
.w-temp { font-family:'Playfair Display',serif; font-size:1.25rem; color:var(--cream); }
.w-desc { font-size:0.65rem; color:var(--muted); margin-top:2px; }

.date-badge {
  display:inline-flex; align-items:center; gap:6px;
  background:rgba(201,168,76,0.08); border:1px solid rgba(201,168,76,0.22);
  border-radius:20px; padding:5px 14px; font-size:0.7rem;
  color:var(--gold-light); font-family:'DM Mono',monospace;
  letter-spacing:0.05em; margin-top:14px;
}

/* ══ SHARED SUBPAGE HEADER ══ */
.subpage-header {
  display: none;
  position: sticky;
  top: 0;
  z-index: 999;
  padding: 18px 16px 14px;
  border-bottom: 1px solid rgba(201,168,76,0.14);
  background: linear-gradient(180deg, rgba(13,18,38,0.98), rgba(13,18,38,0.94));
  backdrop-filter: blur(10px);
}
.subpage-header.show { display: block; }
.subpage-header-inner {
  max-width: 800px;
  margin: 0 auto;
  text-align: center;
}
.subpage-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.55rem, 6vw, 2.2rem);
  font-style: italic;
  color: var(--gold);
  line-height: 1.15;
}
.subpage-sub {
  font-family: 'Noto Sans KR', sans-serif;
  font-size: 0.8rem;
  color: rgba(245,240,232,0.72);
  margin-top: 6px;
}
.subpage-date {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  margin-top: 10px;
  padding: 4px 12px;
  border-radius: 20px;
  border: 1px solid rgba(201,168,76,0.18);
  background: rgba(201,168,76,0.06);
  color: var(--gold-light);
  font-family: 'DM Mono', monospace;
  font-size: 0.66rem;
  letter-spacing: 0.04em;
}

/* ══ MAP ══ */
.map-day-btns { padding:14px 16px 0; background:rgba(0,0,0,0.2); }
.map-day-lbl { font-family:'DM Mono',monospace; font-size:0.6rem; letter-spacing:0.12em; color:var(--muted); margin-bottom:8px; }
.map-day-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:7px; padding-bottom:12px; }

.map-day-btn {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 9px 4px;
  cursor: pointer;
  text-align: center;
  transition: all 0.2s;
  color: var(--cream);
  font-family: 'Noto Sans KR', sans-serif;
}
.map-day-btn.active {
  background: rgba(201,168,76,0.18);
  border-color: var(--gold);
}
.map-day-btn .day-num {
  font-family: 'Playfair Display', serif;
  font-size: 1.2rem;
  color: var(--gold);
  display: block;
}
.map-day-btn .day-label {
  font-size: 0.58rem;
  color: var(--muted);
  display: block;
  margin-top: 1px;
}

#leaflet-map {
  width:100%;
  height:420px;
  z-index:1;
  touch-action: pan-y pinch-zoom;
}
.leaflet-container {
  touch-action: pan-y pinch-zoom;
}
.map-strip { padding:12px 16px; background:rgba(0,0,0,0.3); border-top:1px solid var(--border); }
.map-strip-title { font-family:'Playfair Display',serif; font-size:0.95rem; color:var(--gold); margin-bottom:7px; }
.spot-pills { display:flex; flex-wrap:wrap; gap:5px; }
.spot-pill {
  display:inline-block; padding:3px 10px; border-radius:12px;
  font-size:0.7rem; background:rgba(255,255,255,0.08);
  color:rgba(245,240,232,0.8); border:1px solid rgba(255,255,255,0.1);
  cursor:pointer; transition:background 0.15s;
}
.spot-pill:active { background:rgba(201,168,76,0.2); border-color:var(--gold); }

/* ══ SCHEDULE ══ */
.schedule-wrap { padding:16px; max-width:800px; margin:0 auto; }
.day-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:7px; margin-bottom:18px; }
.day-btn {
  background:var(--card); border:1px solid var(--border);
  border-radius:10px; padding:9px 4px; cursor:pointer;
  text-align:center; transition:all 0.2s; color:var(--cream);
}
.day-btn.active { background:rgba(201,168,76,0.18); border-color:var(--gold); }
.day-btn .day-num { font-family:'Playfair Display',serif; font-size:1.2rem; color:var(--gold); display:block; }
.day-btn .day-label { font-size:0.58rem; color:var(--muted); display:block; margin-top:1px; }
.day-content { display:none; }
.day-content.active { display:block; }
.day-header { display:flex; align-items:center; gap:12px; margin-bottom:16px; padding-bottom:12px; border-bottom:1px solid rgba(201,168,76,0.2); }
.day-icon { width:44px; height:44px; background:rgba(201,168,76,0.1); border:1px solid rgba(201,168,76,0.25); border-radius:12px; display:flex; align-items:center; justify-content:center; font-size:1.3rem; flex-shrink:0; }
.day-header h2 { font-family:'Playfair Display',serif; font-size:1.1rem; color:var(--gold); }
.day-header p { font-size:0.73rem; color:var(--muted); margin-top:2px; }
.timeline { position:relative; padding-left:14px; }
.timeline::before { content:''; position:absolute; left:0; top:6px; bottom:6px; width:1px; background:linear-gradient(to bottom,var(--gold),rgba(201,168,76,0.04)); }
.event { position:relative; margin-bottom:10px; padding-left:18px; }
.event::before { content:''; position:absolute; left:-5px; top:8px; width:10px; height:10px; background:var(--navy); border:2px solid var(--gold); border-radius:50%; }
.event.transport::before { border-color:#5ba4cf; }
.event.food::before { border-color:#e17055; }
.event.sightseeing::before { border-color:#00b894; }
.event.hotel::before { border-color:#a29bfe; }
.event.note::before { border-color:rgba(201,168,76,0.3); width:6px; height:6px; left:-3px; }
.event-card { background:var(--card); border:1px solid var(--border); border-radius:10px; padding:10px 12px; }
.event.transport .event-card { border-left:3px solid #5ba4cf; }
.event.food .event-card { border-left:3px solid #e17055; }
.event.sightseeing .event-card { border-left:3px solid #00b894; }
.event.hotel .event-card { border-left:3px solid #a29bfe; }
.event-time { font-family:'DM Mono',monospace; font-size:0.63rem; color:var(--muted); margin-bottom:3px; }
.event-title { font-size:0.87rem; font-weight:500; color:var(--cream); line-height:1.4; }
.event-detail { font-size:0.75rem; color:rgba(245,240,232,0.5); margin-top:4px; line-height:1.5; }
.event-note { background:rgba(201,168,76,0.07); border-left:2px solid rgba(201,168,76,0.4); border-radius:0 6px 6px 0; padding:5px 8px; margin-top:5px; font-size:0.72rem; color:var(--gold-light); line-height:1.5; }
.tag { display:inline-block; padding:1px 7px; border-radius:8px; font-size:0.6rem; font-family:'DM Mono',monospace; margin-left:5px; vertical-align:middle; }
.tag-confirm { background:rgba(46,213,115,0.15); color:#2ed573; }
.tag-openrun { background: rgba(245,240,232,0.08); color: var(--gold-light); }
.tag-sunset { background: rgba(255,159,67,0.16); color: #ffb36b; }

.fold-note {
  margin-top: 6px;
  border: 1px solid rgba(201,168,76,0.18);
  border-radius: 8px;
  background: rgba(201,168,76,0.04);
  overflow: hidden;
}
.fold-note summary {
  list-style: none;
  cursor: pointer;
  padding: 7px 9px;
  font-size: 0.72rem;
  color: var(--gold-light);
  font-weight: 500;
}
.fold-note summary::-webkit-details-marker { display: none; }
.fold-note summary::after {
  content: '▸';
  float: right;
  color: rgba(245,240,232,0.42);
}
.fold-note[open] summary::after { content: '▾'; }
.fold-note .fold-body {
  padding: 0 9px 9px;
  border-top: 1px solid rgba(201,168,76,0.12);
  font-size: 0.72rem;
  color: rgba(245,240,232,0.58);
  line-height: 1.55;
}


/* ══ BUDGET ══ */
.budget-wrap { padding:16px; max-width:600px; margin:0 auto; }
.budget-total { background:linear-gradient(135deg,rgba(201,168,76,0.15),rgba(201,168,76,0.04)); border:1px solid rgba(201,168,76,0.3); border-radius:16px; padding:20px; text-align:center; margin-bottom:14px; }
.budget-total .bl { font-size:0.68rem; color:var(--muted); letter-spacing:0.1em; }
.budget-total .ba {
  font-family:'Playfair Display',serif;
  font-size:2.4rem;
  color:var(--gold);
  margin:5px 0;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  align-items:baseline;
  gap:0.05em 0.18em;
  line-height:1.1;
}
.budget-total .ba-eur,
.budget-total .ba-sub {
  white-space: nowrap;
}
.budget-total .ba-sub {
  font-family:'Playfair Display',serif;
  font-size:2.4rem;
  color:var(--gold-light);
}
@media (max-width: 420px) {
  .budget-total .ba,
  .budget-total .ba-sub {
    font-size: clamp(2rem, 10vw, 2.4rem);
  }
}
.cat-summary { display:grid; grid-template-columns:repeat(3,1fr); gap:7px; margin-bottom:14px; }
.cat-card { background:var(--card); border:1px solid var(--border); border-radius:10px; padding:10px 6px; text-align:center; }
.cat-card .ci { font-size:1.1rem; margin-bottom:1px; }
.cat-card .cn { font-size:0.6rem; color:var(--muted); }
.cat-card .ca { font-family:'DM Mono',monospace; font-size:0.8rem; color:var(--gold); margin-top:2px; }
.budget-input-row { display:flex; gap:8px; margin-bottom:8px; flex-wrap:wrap; }
.budget-input-row input, .budget-input-row select {
  flex:1; min-width:90px; background:var(--card);
  border:1px solid rgba(201,168,76,0.2); border-radius:8px;
  padding:9px 10px; color:var(--cream);
  font-family:'Noto Sans KR',sans-serif; font-size:0.84rem;
}
.budget-input-row input::placeholder { color:rgba(245,240,232,0.22); }
.budget-input-row input:focus, .budget-input-row select:focus { outline:none; border-color:var(--gold); }
.budget-input-row select option { background:var(--navy2); }
.budget-action-row { flex-wrap:nowrap; }
.btn-add {
  background:var(--gold); color:var(--navy); border:none;
  border-radius:8px; padding:10px 16px; font-weight:700;
  cursor:pointer; font-size:0.85rem; font-family:'Noto Sans KR',sans-serif;
  flex:1;
}
.btn-cancel-edit {
  display:none;
  background:transparent;
  color:var(--gold-light);
  border:1px solid rgba(201,168,76,0.35);
  border-radius:8px;
  padding:10px 14px;
  font-weight:500;
  cursor:pointer;
  font-size:0.82rem;
  font-family:'Noto Sans KR',sans-serif;
  flex:0 0 auto;
}
.editing-hint {
  display:none;
  margin-bottom:10px;
  font-size:0.74rem;
  color:var(--gold-light);
}
.expense-item { display:flex; align-items:center; padding:10px 12px; background:var(--card); border:1px solid var(--border); border-radius:10px; margin-bottom:7px; gap:8px; }
.ex-left { flex:1; min-width:0; }
.ex-cat { font-size:0.6rem; color:var(--muted); font-family:'DM Mono',monospace; }
.ex-name { font-size:0.86rem; margin-top:1px; word-break:keep-all; }
.ex-amt { font-family:'DM Mono',monospace; font-size:0.92rem; color:var(--gold); text-align:right; }
.ex-actions { display:flex; align-items:center; gap:2px; }
.ex-edit, .ex-del {
  background:none; border:none; cursor:pointer;
  padding:4px 6px; font-size:0.95rem;
}
.ex-edit { color:var(--gold-light); }
.ex-del { color:rgba(245,240,232,0.22); }
.section-lbl { font-family:'DM Mono',monospace; font-size:0.6rem; letter-spacing:0.14em; text-transform:uppercase; color:var(--muted); margin-bottom:8px; }
.divider { height:1px; background:var(--border); margin:14px 0; }
.empty-state { text-align:center; padding:30px 20px; color:var(--muted); font-size:0.84rem; }
.empty-state .big { font-size:2rem; display:block; margin-bottom:6px; }

/* ══ CHECKLIST ══ */
.checklist-wrap { padding:16px; max-width:600px; margin:0 auto; }
.check-section { margin-bottom:22px; }
.check-section h3 {
  font-family:'Playfair Display',serif; font-size:0.95rem;
  color:var(--gold); margin-bottom:8px; padding-bottom:6px;
  border-bottom:1px solid rgba(201,168,76,0.18);
}
.progress-bar { height:3px; background:rgba(255,255,255,0.07); border-radius:2px; margin-bottom:9px; }
.progress-fill { height:100%; background:var(--gold); border-radius:2px; transition:width 0.3s; }
.check-item {
  display:flex; align-items:flex-start; gap:10px; padding:8px 8px;
  border-radius:8px; cursor:pointer; transition:background 0.15s; margin-bottom:1px;
}
.check-item:hover { background:rgba(255,255,255,0.04); }
.check-box {
  width:20px; height:20px; border:2px solid rgba(201,168,76,0.35);
  border-radius:5px; flex-shrink:0; margin-top:1px;
  display:flex; align-items:center; justify-content:center; transition:all 0.2s;
}
.check-item.done .check-box { background:var(--gold); border-color:var(--gold); }
.check-item.done .check-box::after { content:'✓'; color:var(--navy); font-size:0.7rem; font-weight:700; }
.check-label { font-size:0.85rem; line-height:1.5; }
.check-item.done .check-label { text-decoration:line-through; color:var(--muted); }
.check-note { font-size:0.68rem; color:rgba(245,240,232,0.32); margin-top:1px; }
.check-item.locked { cursor:default; }
.save-btn {
  background:var(--gold); color:var(--navy); border:none;
  border-radius:12px; padding:13px 36px; font-weight:700;
  font-family:'Noto Sans KR',sans-serif; font-size:0.92rem;
  cursor:pointer; box-shadow:0 4px 16px rgba(201,168,76,0.3);
}
#save-toast {
  position:fixed; bottom:80px; left:50%;
  transform:translateX(-50%) translateY(20px);
  background:rgba(46,213,115,0.96); color:#111;
  padding:9px 22px; border-radius:20px;
  font-family:'Noto Sans KR',sans-serif; font-size:0.82rem; font-weight:700;
  opacity:0; transition:opacity 0.3s,transform 0.3s;
  z-index:9999; pointer-events:none;
  box-shadow:0 4px 16px rgba(0,0,0,0.3);
}

/* ══ MEMO ══ */
.memo-wrap { padding:16px; max-width:600px; margin:0 auto; }
.memo-card { background:var(--card); border:1px solid var(--border); border-radius:12px; padding:14px; margin-bottom:10px; }
.memo-card h4 { font-size:0.7rem; color:var(--gold); margin-bottom:10px; font-family:'DM Mono',monospace; letter-spacing:0.08em; text-transform:uppercase; }
.info-grid { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
.info-label { font-size:0.63rem; color:var(--muted); }
.info-val { font-size:0.82rem; color:var(--cream); margin-top:2px; font-weight:500; }
.memo-area {
  width:100%; background:var(--card);
  border:1px solid rgba(201,168,76,0.2);
  border-radius:10px; padding:12px; color:var(--cream);
  font-family:'Noto Sans KR',sans-serif; font-size:0.84rem;
  line-height:1.7; min-height:150px; resize:vertical;
}
.memo-area:focus { outline:none; border-color:var(--gold); }

/* Accordion */
.accordion { border:1px solid var(--border); border-radius:12px; overflow:hidden; margin-bottom:10px; }
.acc-header { display:flex; align-items:center; justify-content:space-between; padding:13px 14px; cursor:pointer; background:var(--card); }
.acc-header h4 { font-size:0.78rem; color:var(--gold); font-family:'DM Mono',monospace; letter-spacing:0.06em; text-transform:uppercase; }
.acc-arrow { color:var(--muted); font-size:0.75rem; transition:transform 0.25s; }
.acc-body { max-height:0; overflow:hidden; transition:max-height 0.35s ease; }
.acc-body.open { max-height:700px; }
.acc-header.open .acc-arrow { transform:rotate(180deg); }
.acc-inner { padding:12px 14px 14px; }
.phrase-group { margin-bottom:10px; }
.phrase-group-title { font-size:0.62rem; color:var(--muted); font-family:'DM Mono',monospace; letter-spacing:0.1em; text-transform:uppercase; margin-bottom:5px; }
.phrase-item { display:flex; justify-content:space-between; align-items:baseline; padding:4px 0; border-bottom:1px solid rgba(255,255,255,0.04); gap:10px; }
.phrase-kr { font-size:0.76rem; color:rgba(245,240,232,0.55); flex-shrink:0; }
.phrase-fr { font-size:0.8rem; color:var(--cream); font-style:italic; text-align:right; }

/* Leaflet popup */
.dark-popup .leaflet-popup-content-wrapper {
  background:#1a1f3a; color:var(--cream);
  border:1px solid rgba(201,168,76,0.4);
  border-radius:10px; box-shadow:0 4px 20px rgba(0,0,0,0.6);
}
.dark-popup .leaflet-popup-tip { background:#1a1f3a; }
.dark-popup .leaflet-popup-content { margin:10px 14px; font-family:'Noto Sans KR',sans-serif; }

/* Eiffel lights */
.eiffel-light {
  fill: #fff;
  animation: sparkle-anim 1s infinite;
  opacity: 0;
}
@keyframes sparkle-anim {
  0%, 100% { opacity: 0; }
  50% { opacity: 1; }
}
.eiffel-light:nth-child(1n) { animation-duration: 0.7s; }
.eiffel-light:nth-child(2n) { animation-duration: 1.2s; animation-delay: 0.2s; }
.eiffel-light:nth-child(3n) { animation-duration: 0.9s; animation-delay: 0.5s; }
.eiffel-light:nth-child(4n) { animation-duration: 1.4s; animation-delay: 0.1s; }
.eiffel-light:nth-child(5n) { animation-duration: 0.8s; animation-delay: 0.7s; }

/* Dual clock */
.clock-row { display:flex; gap:10px; margin-top:14px; width:100%; max-width:300px; }
.c-card {
  flex:1; background:var(--card); border:1px solid var(--border);
  border-radius:14px; padding:12px 8px; text-align:center;
}
.c-lbl { font-size:0.6rem; color:var(--muted); font-family:'Noto Sans KR',sans-serif; letter-spacing:0.1em; margin-bottom:5px; }
.c-time {
  font-family:'Playfair Display',serif;
  font-size:1.4rem;
  color:var(--gold-light);
  font-weight:700;
  letter-spacing:0.03em;
}

/* BGM */
.bgm-btn {
  position: fixed;
  right: 14px;
  bottom: calc(var(--bottom-h) + 14px);
  z-index: 1200;
  background: rgba(10,14,30,0.94);
  color: var(--gold-light);
  border: 1px solid rgba(201,168,76,0.28);
  border-radius: 999px;
  padding: 10px 14px;
  font-size: 0.78rem;
  font-family: 'DM Mono', monospace;
  backdrop-filter: blur(10px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.25);
  cursor: pointer;
}
.bgm-btn.playing {
  background: rgba(201,168,76,0.14);
  border-color: rgba(201,168,76,0.45);
  color: var(--gold);
}

/* PC map spacing */
@media (min-width: 768px) {
  #page-map {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 16px;
  }

  .map-day-btns {
    padding: 14px 0 0;
  }

  .map-strip {
    padding: 12px 0;
  }
}

::-webkit-scrollbar { width:3px; height:3px; }
::-webkit-scrollbar-thumb { background:rgba(201,168,76,0.3); border-radius:2px; }

/* === Map / Language buttons + Bottom Sheet === */
.event-title-row{display:flex; align-items:center; justify-content:space-between; gap:10px;}
.event-actions{display:flex; align-items:center; gap:8px; flex:0 0 auto;}
.icon-btn{
  border:1px solid rgba(0,0,0,.12);
  background:#fff;
  border-radius:12px;
  padding:6px 10px;
  font-size:16px;
  line-height:1;
  cursor:pointer;
  box-shadow:0 2px 8px rgba(0,0,0,.06);
}
.icon-btn:active{transform:translateY(1px);}
.sheet-backdrop{
  position:fixed; inset:0;
  background:rgba(0,0,0,.35);
  display:flex; align-items:flex-end; justify-content:center;
  z-index:9999;
}
.sheet-backdrop.hidden{display:none;}
.sheet{
  width:min(720px, 100%);
  background:#fff;
  border-radius:18px 18px 0 0;
  box-shadow:0 -10px 30px rgba(0,0,0,.18);
  max-height:82vh;
  overflow:hidden;
  transform:translateY(0);
  touch-action:pan-y;
}
.sheet-handle{
  width:56px; height:6px; border-radius:999px;
  background:rgba(191,162,94,.55);
  margin:10px auto 8px;
}
.sheet-header{
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:10px 14px 12px;
  border-bottom:1px solid rgba(17,26,44,.10);
}
.sheet-header .icon-btn{
  position:absolute;
  right:14px;
  top:50%;
  transform:translateY(-50%);
}
.sheet-title{
  color:var(--navy);
  font-family:"Playfair Display", serif;
  font-weight:700;
  letter-spacing:.2px;
  text-align:center;
  width:100%;
}
.sheet-body{padding:12px 14px 18px; overflow:auto; max-height:72vh; -webkit-overflow-scrolling:touch; touch-action:pan-y;}
.lang-card{
  border:1px solid rgba(0,0,0,.08);
  border-radius:14px;
  padding:10px 12px;
  margin:10px 0;
  background:rgba(255,255,255,.9);
}
.lang-line{display:grid; grid-template-columns: 1fr; gap:6px; padding:10px 0; border-bottom:1px dashed rgba(0,0,0,.10);}
.lang-line:last-child{border-bottom:none;}
.lang-fr{display:flex; align-items:flex-start; gap:10px; font-weight:700;}
.lang-meta{font-size:13px; opacity:.85;}
.speak-btn{padding:4px 8px; border-radius:10px;}
@media(min-width:520px){
  .lang-line{grid-template-columns: 1.2fr 1fr; column-gap:14px;}
  .lang-meta{grid-column:1 / -1;}
}
/* --- Icon mini buttons (gold outline) --- */
.mini-btn{
  display:inline-flex; align-items:center; justify-content:center;
  gap:6px;
  padding:6px 10px;
  border:1px solid rgba(191,162,94,.95);
  border-radius:999px;
  background:transparent;
  color:var(--gold);
  font-weight:700;
  line-height:1;
  cursor:pointer;
}
.mini-btn svg{ width:16px; height:16px; display:block; }
.mini-btn:active{ background:rgba(191,162,94,.18); }
.mini-btn.primary{ background:rgba(191,162,94,.10); }
.schedule-actions{ display:flex; gap:8px; justify-content:flex-end; align-items:center; }

/* ── Language bottom sheet: dark navy theme ── */
.sheet{
  background: var(--navy2);
  color: var(--cream);
  border: 1px solid rgba(201,168,76,0.28);
  border-bottom: none;
  position: relative;
}
.sheet:before{ display:none; }
.sheet:after{ display:none; }

.sheet-handle{
  width: 40px;
  height: 4px;
  background: rgba(201,168,76,0.3);
  margin: 12px auto 10px;
}
.sheet-header{
  border-bottom: 1px solid rgba(201,168,76,0.12);
  padding: 8px 14px 14px;
}
.sheet-header .icon-btn{
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.1);
  color: rgba(245,240,232,0.4);
}
.sheet-header .icon-btn:active{ background: rgba(255,255,255,0.1); }

.sheet-title{
  font-family: 'Playfair Display', serif;
  font-style: italic;
  font-size: 1rem;
  color: var(--gold);
  letter-spacing: 0.02em;
  text-align: center;
}
.sheet-subtitle{
  font-family: 'DM Mono', monospace;
  font-size: 0.58rem;
  color: var(--muted);
  letter-spacing: 0.1em;
  text-align: center;
  margin-top: 2px;
  text-transform: uppercase;
}

.lang-card{
  background: transparent;
  border: none;
  padding: 0;
  margin: 0;
}
.lang-line{
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: start;
  gap: 8px 10px;
  padding: 11px 0;
  border-bottom: 1px solid rgba(255,255,255,0.05);
}
.lang-line:last-child{ border-bottom: none; }

.lang-fr-wrap{ grid-column: 1; }
.lang-fr{
  font-family: 'Playfair Display', serif;
  font-style: italic;
  font-size: 0.92rem;
  color: var(--gold);
  line-height: 1.45;
  font-weight: 400;
  display: block;
}
.lang-pron{
  font-family: 'DM Mono', monospace;
  font-size: 0.62rem;
  color: var(--muted);
  margin-top: 4px;
  letter-spacing: 0.01em;
  display: block;
}
.lang-ko{
  font-size: 0.78rem;
  color: rgba(245,240,232,0.65);
  margin-top: 5px;
  display: block;
}
.speak-btn{
  grid-column: 2;
  grid-row: 1;
  align-self: center;
  width: 32px; height: 32px;
  padding: 0;
  display: inline-flex; align-items: center; justify-content: center;
  border: 1px solid rgba(201,168,76,0.25);
  background: rgba(201,168,76,0.08);
  border-radius: 9px;
  color: var(--gold);
  font-size: 14px;
  cursor: pointer;
}
.speak-btn:active{ background: rgba(201,168,76,0.18); }

.icon-btn{
  border: 1px solid rgba(201,168,76,0.95);
  background: rgba(201,168,76,0.10);
  color: var(--gold);
}
.icon-btn svg{ width:18px; height:18px; display:block; }
.icon-btn:active{ background:rgba(201,168,76,0.18); }


/* ── Schedule action buttons: 안 B (카드 바깥 우측 상단) ── */
.event.has-quick-actions{
  position: relative;
}
.card-actions-outer{
  position: absolute;
  top: 0;
  right: 0;
  display: flex;
  gap: 5px;
  z-index: 10;
}
.event-action-btn{
  width: 22px;
  height: 22px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  border: 1px solid rgba(201,168,76,0.45);
  border-radius: 6px;
  background: var(--navy2);
  color: var(--gold);
  cursor: pointer;
}
.event-action-btn svg{
  width: 12px;
  height: 12px;
  display: block;
}
.event-action-btn:active{
  background: rgba(201,168,76,0.15);
  transform: translateY(1px);
}
